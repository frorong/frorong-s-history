---
id: 10
title: DNS와 ARP가 무엇인가요?
description: DNS 서버와 IP 주소, 도메인 주소가 관련이 있다는 것을 알겠지? 안에는 어떤 과정으로 이루어질까?
date: '2024-03-24'
category: CS
---

# **\[CS\] DNS와 ARP가 무엇인가요?**

DNS가 무엇인가요? 그전에 도메인 주소와 IP 주소에 대해 알아봅시다.

## 도메인 주소와 IP 주소

[https://frorong.tistory.com](https://frorong.tistory.com/)

위 주소는 우리가 흔히 볼 수 있는 주소이다. 알파벳으로 되어있다.

<br/>

왜 주소가 알파벳으로 되어있을까? 알파벳은 세계 공용어로, 굉장히 많은 사람들이 사용하는 문자이다. 즉, 사람에 맞춤화된 언어이다.

<br/>

웹 서비스의 인터넷상에서의 각각의 host의 위치가 구분되기 위해서는 주소가 필요하다. 그리고 (frorong.tistory.com)이런 알파벳으로 이루어진 주소를 도메인 주소라고 부른다.

<br/>

이런 인간 맞춤 언어를 컴퓨터가 이해할 수 있을까? 그렇지 않다.

<br/>

컴퓨터가 이런 도메인 주소를 이해하기 위해서는 IP 주소로 변환해야 한다.

<br/>

IP 주소가 무엇인지 모르겠다면 아래 글을 참고하자.

[frorong.tistory.com](https://frorong.tistory.com/entry/CS-IP%EA%B0%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%EC%9A%94)

## DNS

DNS는 Domain Name System의 약자로 위에서 설명한 것과 같은 인터넷 주소 체계이다. DNS는 전 세계적으로 분포되어 있는 네트워크 체계를 깔고 동작한다.

<br/>

어떠한 도메인 주소를 입력하면, DNS 서버로 쿼리가 보내지고, DNS 서버에서 해당 도메인 주소에 해당하는 IP 주소를 반환한다.

<br/>

사용자가 원하는 서비스의 IP 주소를 일일이 기억하는 것은 굉장한 리소스 낭비이므로 이러한 체계가 구성된 것이다.

<br/>

예를 들어보자.

<br/>

내 미래 집주소는 서울특별시 용산구 독서당로 111이다. 택시를 탈 때 기사님께

<br/>

"기사님 서울특별시 용산구 독서당로 111"

<br/>

로 가주세요 라고 말하기보다는

<br/>

"기사님 한남더힐 가주세요"

<br/>

라고 말하는 것이 더 일반적일 것이다. 모든 주소를 외우기보다는 그 주소에 해당하는 건물의 이름을 외우는 것이 더 외우기 쉽기 때문이다.

### 과정

자, 이제 좀 더 자세히 들어가서 알아보자.

<br/>

우리가 주소창에 [https://frorong.tistory.com](https://frorong.tistory.com) 이라고 쓰고 엔터를 친다고 해보자. 내 PC는 바로 DNS서버에서 IP 주소를 조회하지 않는다. 먼저 내 PC 메모리의 DNS 캐시라는 것을 조회한다. 캐시에 IP 주소가 저장되어있다면 해당 주소를 사용한다. 그 게 아니라면, hosts file을 조회한다. hosts file에도 IP 주소가 존재하지 않는다면, 그제서야 DNS 서버에 주소를 조회한다.

<br/>

그런데, 우리는 일반적으로 인터넷 공유기를 사용한다. 이 공유기라는 녀석은 DNS 포워딩 기능을 제공하는데, 공유기가 DNS인 것 마냥 응답을 대리하기도 한다. 만약 공유기가 주소를 제공하지 않는다면, KT, LG U+, SK와 같은 ISP에서 제공하는 Cache DNS에 요청한다. 이 정보는 굉장히 빠르게 응답할 수 있기 때문에 이왕이면 Cache DNS에서 끝나는 것이 좋다.

<br/>

그런데, 캐시되어있는 정보가 없다면? Cache DNS는 또 다른 DNS에 "com"이라는 정보를 갖고 주소를 요청한다. 그 DNS가 바로 Root DNS이다. Root DNS는 "com"을 가진 DNS 목록을 반환한다. Cache DNS는 이 목록 중 하나에 주소를 요청한다. 그 때 IP 주소를 얻을 수 있는 것이다.

<br/>

이 모든 주소의 응답에는 유효기간이 포함되고, 유효기간에 따라 캐시값 유지 여부가 결정된다.

<br/>

이 Root DNS라는 것은 전 세계에 단 13개가 존재한다. 이 13개의 Root DNS에 장애가 생긴다면 엄청난 마비 현상이 생길 것이다.

<br/>

아래 리스트만 테러하면 전 세계 인터넷을 멈출 수 있다.

<img src='https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbVhAjx%2FbtsF2FgTt1Q%2FBYKc52Q2Cv7ztSkl9AWaC0%2Fimg.png'/>

#### 보안

인터넷 공유기가 해킹당한다고 가정해보자. frorong.tistory.com의 IP 주소를 요청한다고 하더라도, backeken.tistory.com에 해당하는 악성 IP 주소가 반환될 수 있는 것이다. 인터넷 공유기가 해킹된다면, 해당 공유기를 사용하는 사람만 보안의 위험을 겪겠지만, 만약 Root DNS가 해킹된다면? 굉장히 위험한 상상이다.

<br/>

이를 DNS 스푸핑이라고 하고, 이래서 인터넷 보안이 중요하다.

<br/>

이 다음으로 알아볼 것은 ARP이다.

## ARP

ARP는 Address Resolution Protocol의 약자로 주소 결정 프로토콜이다. 네트워크 통신은 실제 물리적인 장비 간의 MAC 주소를 통해 이루어진다. 도메인 주소를 IP 주소로 바꿔주는 DNS가 존재한다면, IP 주소를 MAC 주소로 바꿔주는 ARP 또한 존재한다.

<br/>

컴퓨터 1과 컴퓨터 2에서 네트워크 요청이 이루어지려면, 데이터 송신자의 MAC 주소, IP주소, 데이터 수신자의 MAC 주소, IP 주소가 필요하다. 일반적으로 데이터를 보낼 때에는 데이터 송신자의 MAC 주소, IP주소, 데이터 수신자의 IP 주소를 알고 있을 것이다. 하지만 데이터 수신자의 MAC 주소는 알고 있지 않다.

<br/>

컴퓨터 1이 2의 MAC 주소를 알기 위해서는 ARP를 사용하여 네트워크 상에서 컴퓨터 2의 IP 주소에 해당하는 MAC 주소를 요청한다. ARP 요청을 위한 패킷을 생성할 때에는 컴퓨터 1의 MAC 주소와 IP 주소가 포함된다. ARP 요청을 받은 컴퓨터 2는 자신의 MAC 주소가 담긴 응답을 보낸다.

<br/>

ARP도 DNS와 같이 스푸핑이 생길 수 있다. 항상 보안에 유의한다.

## 마치며

네트워크 통신의 아주 중요한 요소인 DNS와 ARP를 꼭 알아보자.
